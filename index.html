<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <title>Document</title>
</head>

<body>
  <div class="cal">
    <p id="display">0</p>
    <div>
      <button class="btn-m">MC</button>
      <button class="btn-m">MR</button>
      <button class="btn-m">M+</button>
      <button class="btn-m">M-</button> 
      <button class="btn-m">MS</button>
    </div>
    <div class="dropdown">
      <select name="dropdown1" id="trigonometry" class="drop" onchange="trigonometryy()">
        <option value="sine" selected>Trigonometry</option>
        <option value="sine">sin</option>
        <option value="cos">cos</option>
        <option value="tan">tan</option>
        <option value="sinein">sinInverse</option>
        <option value="cosin">cosInverse</option>
        <option value="tanin">tanInverse</option>
      </select>
      <select name="dropdown2" id="function" class="drop">
        <option value="rigatoni">function</option>
        <option value="dave">function1</option>
        <option value="pumpernickel">function2</option>
        <option value="reeses">function3</option>
      </select>
    </div>
    <button class="btn-fun" onclick="pi()">2<sup>nd</sup></button>
    <button class="btn-operator" onclick="pi()">PI</button>
    <button class="btn-operator" onclick="">e</button>
    <button class="btn-operator" onclick="clearr()">C</button>
    <button class="btn-operator" onclick="remove()"><i class="fa-solid fa-delete-left"></i></button><br>
    <button class="btn-fun" onclick="squares()">x<sup>2</sup></button>
    <button class="btn-operator" onclick="divx()">1/x</button>
    <button class="btn-operator" onclick="modex()">|x|</button>
    <button class="btn-operator" onclick="">exp</button>
    <button class="btn-operator" onclick="modulo()"><i class="fa-solid fa-percent"></i></button><br>
    <button class="btn-fun" onclick="sqrt2()"><i class="fa-sharp fa-solid fa-square-root-variable"></i></button>
    <button class="btn-operator" onclick="bracket1()">(</button>
    <button class="btn-operator" onclick="bracket2()">)</button>
    <button class="btn-operator" onclick="fact()">n!</button>
    <button class="btn-operator" onclick="div()"><i class="fa-solid fa-divide"></i></button><br>

    <button class="btn-fun" onclick="raisr()">x<sup>y</sup></button>
    <button class="btn-num" onclick="seven()">7</button>
    <button class="btn-num" onclick="eight()">8</button>
    <button class="btn-num" onclick="nine()">9</button>
    <button class="btn-operator" onclick="mul()">x</button><br>
    <button class="btn-fun" onclick="tenr()">10<sup>x</sup></button>
    <button class="btn-num" onclick="four()">4</button>
    <button class="btn-num" onclick="five()">5</button>
    <button class="btn-num" onclick="six()">6</button>
    <button class="btn-operator" onclick="sub()"><i class="fa-solid fa-minus"></i></button><br>
    <button class="btn-fun" onclick="log()">log</button>
    <button class="btn-num" onclick="one()">1</button>
    <button class="btn-num" onclick="two()">2</button>
    <button class="btn-num" onclick="three()">3</button>
    <button class="btn-operator" onclick="add()"><i class="fa-solid fa-plus"></i></button><br>
    <button class="btn-fun" onclick="ln()">ln</button>
    <button class="btn-operator" onclick="convert()">+/-</button>
    <button class="btn-num" onclick="zero()">0</button>
    <button class="btn-operator" onclick="point()">.</button>
    <button class="btn-operator" onclick="ans()"><i class="fa-solid fa-equals"></i></button><br>
  </div>
</body>
<script type="text/javascript">
  var values = "";
  var value_display="";
  function sqrt2() {
    values += "Math.sqrt(";
    value_display+="sqrt(";
    print()
  }
  function modulo(){
    values+="%"
    value_display+="%"
    print()
  }
  function point() {
    values += ".";
    value_display += ".";
    print()
  }
  function zero() {
    values += "0";
    value_display += "0";
    print()
  }
  function one() {
    values += "1";
    value_display += "1";
    print()
  }
  function two() {
    values += "2";
    value_display += "2";
    print()
  }
  function three() {
    values += "3"
    value_display += "3";
    print()
  }
  function four() {
    values += "4";
    value_display += "4";
    print()
  }
  function five() {
    values += "5";
    value_display += "5";
    print()
  }
  function six() {
    values += "6";
    value_display += "6";
    print()
  }
  function seven() {
    values += "7";
    value_display += "7";
    print()
  }
  function eight() {
    values += "8";
    value_display += "8";
    print()
  }
  function nine() {
    values += "9";
    value_display += "9";
    print()
  }
  function bracket1() {
    values += "(";
    value_display += "(";
    print()
  }
  function bracket2() {
    values += ")";
    value_display += ")";
    print()
  }
  function log() {
    values += "Math.log10(";
    value_display += "log(";
    print()
  }
  function ln() {
    values += "Math.log(";
    value_display += "ln(";
    print()
  }
  function tenr() {
    values += "10**";
    value_display += "10^";
    print()
  }
  function raisr() {
    values += "**";
    value_display += "^";
    print()
  }
  function clearr() {
    values = ""
    value_display = "";
    document.getElementById("display").innerHTML = "0";
  }
  function ans() {
    if (values.length == 0) {
      values = "0";
      value_display = "0";
    }
    try {
      document.getElementById("display").innerHTML = eval(values);
    } catch {
      document.getElementById("display").innerHTML = "Syntex error";
    }
    values = ""
    value_display = "";
  }
  function add() {
    values += "+"
    value_display += "+";
    print()
  }
  function sub() {
    values += "-"
    value_display += "-";
    print()
  }
  function div() {
    values += "/"
    value_display += "<i class='fa-solid fa-divide'></i>";
    print()
  }
  function mul() {
    values += "*"
    value_display += "<i class='fa-solid fa-xmark'></i>";
    print()
  }
  function remove() {
    values = values.substr(0, values.length - 1);
    value_display = value_display.substr(0, value_display.length - 1);
    print()
  }
  function squares() {
    let splitUp = values.match(/[^\d]+|[\d.]+/g);
    let splitUp2 = value_display.match(/[^\d]+|[\d.]+/g);
    let last = splitUp[splitUp.length - 1];
    if(Number(last)){
      let sq = last * last;
      splitUp.pop();
      splitUp2.pop();
      values = splitUp.join("");
      value_display = splitUp2.join("");
      values += sq;
      value_display += sq;

    }else{
      values="Syntex Error"
      value_display="Syntex Error"
    }  
    print()
  }
  function fact() {
    let splitUp = values.match(/[^\d]+|[\d.]+/g);
    let splitUp2 = value_display.match(/[^\d]+|[\d.]+/g);
    let last = splitUp[splitUp.length - 1];
    if(Number(last)){
      let factans = factorialize(last);
      splitUp.pop();
      splitUp2.pop();
      values = splitUp.join("");
      value_display = splitUp2.join("");
      values += factans;
      value_display += factans;
    }else{
      values="Syntex Error"
      value_display="Syntex Error"
    }
    print()
  }
  function divx() {
    let splitUp = values.match(/[^\d]+|[\d.]+/g);
    let splitUp2 = value_display.match(/[^\d]+|[\d.]+/g);
    let last = splitUp[splitUp.length - 1];
    if(Number(last)){
      let sq = 1 / last;
      splitUp.pop();
      splitUp2.pop();
      values = splitUp.join("");
      value_display = splitUp2.join("");
      values += sq;
      value_display += sq;
    }else{
      values="Syntex Error"
      value_display="Syntex Error"
    }
    print()
  }
  function pi() {
    if(values){
      let splitUp = values.match(/[^\d]+|[\d.]+/g);
      let splitUp2 = value_display.match(/[^\d]+|[\d.]+/g);
      let last = splitUp[splitUp.length - 1];
      if (Number(last)) {
        splitUp.pop();
        splitUp2.pop();
        values = splitUp.join("");
        value_display = splitUp2.join("");
        values += "3.14";
        value_display += "3.14";
      } else {
        values += "3.14";
        value_display += "3.14";
      }
    }else{
      values += "3.14";
      value_display += "3.14";
    }
    print()
  }
  function factorialize(num) {
    if (num < 0)
      return -1;
    else if (num == 0)
      return 1;
    else {
      return (num * factorialize(num - 1));
    }
  }
  //common method
  function print() {
    document.getElementById("display").innerHTML = value_display;
  }
  function trigonometryy(){
    var trigo=document.getElementById("trigonometry");  
    var trigo2=trigo.options[trigonometry.selectedIndex].text;
    let select1="sin<sup>-1</sup>";
    if(trigo2=="sin"){
      values+="Math.sin("; 
      value_display+="sin("     
    }else if(trigo2=="cos"){
      values+="Math.cos(";
      value_display+="cos("
    }else if(trigo2=="tan"){
      values+="Math.tan(";
      value_display+="tan("
    }else if(trigo2=="sinInverse"){
      values+="Math.asin(";
      value_display+="sinIn"
    }else if(trigo2=="cosInverse"){
      values+="Math.acos(";
      value_display+="cosIn"
    }else if(trigo2=="tanInverse"){
      values+="Math.atan(";
      value_display+="tanIn"
    }
    print()
  }
</script>

</html>